var Fu=Object.defineProperty;var Mu=(L,B,W)=>B in L?Fu(L,B,{enumerable:!0,configurable:!0,writable:!0,value:W}):L[B]=W;var o=(L,B,W)=>Mu(L,typeof B!="symbol"?B+"":B,W);(function(){const B=document.createElement("link").relList;if(B&&B.supports&&B.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))Kt(D);new MutationObserver(D=>{for(const R of D)if(R.type==="childList")for(const Et of R.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&Kt(Et)}).observe(document,{childList:!0,subtree:!0});function W(D){const R={};return D.integrity&&(R.integrity=D.integrity),D.referrerPolicy&&(R.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?R.credentials="include":D.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function Kt(D){if(D.ep)return;D.ep=!0;const R=W(D);fetch(D.href,R)}})();(()=>{var at;function L(e,t){return Object.assign(Object.create(e.prototype),t)}var B=Symbol("force");function W(e){var t;function n(){return t||(t=e(r=>t=r)),t}return new Proxy(Function(),{get(r,l){return l==B&&n(),n()[l]},set(r,l,i){return n()[l]=i,!0},construct(r,l,i){return Reflect.construct(n(),l,i)}})}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]===void 0&&delete e[r]}return e}function D(e){return e===void 0?null:{$:1,$0:e}}function R(e,t,n){n?e[t]=n.$0:delete e[t]}function Et(e){return function(...t){return e(t)}}function Bn(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}var zt=[];function Kn(e){zt.push(e)}function zn(){for(var e=0;e<zt.length;e++)zt[e]();zt=[]}function J(e){return"Dispose"in e}function Jn(){let e=new er("New_1"),t=(e.h.push(new Be("pageinit",()=>{globalThis.MathJax.typeset(),globalThis.MathJax.typesetPromise().then(()=>console.log("âœ… typesetPromise finished")),Xn("resultTex2CHTML"),Zn("resultTex2MML"),Qn("resultMathML2CHTML"),Yn("resultMathML2MML")})),e),n=cr(t.k,t.h,[]),r=new tr(n[1],sr(n[0])),l=(t.i=r,r).Doc;je(""),$t.RunById("main",l)}function Xn(e){let t=globalThis.MathJax.tex2chtml("$$x = {-b \\pm \\sqrt{b^2 - 4ac} \\over 2a}$$");globalThis.document.getElementById(e).appendChild(t)}function Zn(e){let t=globalThis.MathJax.tex2mml("$$x = {-b \\pm \\sqrt{b^2 - 4ac} \\over 2a}$$");globalThis.document.getElementById(e).textContent=t}function Qn(e){let t=globalThis.MathJax.mathml2chtml(`\r
        <math xmlns="http://www.w3.org/1998/Math/MathML">\r
            <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mi>x</mi> <mo>=</mo> <mrow data-mjx-texclass="ORD"> <mfrac> <mrow> <mo>&#x2212;</mo> <mi>b</mi> <mo>&#xB1;</mo> <msqrt> <msup> <mi>b</mi> <mn>2</mn> </msup> <mo>&#x2212;</mo> <mn>4</mn> <mi>a</mi> <mi>c</mi> </msqrt> </mrow> <mrow> <mn>2</mn> <mi>a</mi> </mrow> </mfrac> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow>\r
        </math>\r
        `);globalThis.document.getElementById(e).appendChild(t)}function Yn(e){let t=globalThis.MathJax.mathml2mml(`\r
        <math xmlns="http://www.w3.org/1998/Math/MathML">\r
            <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mi>x</mi> <mo>=</mo> <mrow data-mjx-texclass="ORD"> <mfrac> <mrow> <mo>&#x2212;</mo> <mi>b</mi> <mo>&#xB1;</mo> <msqrt> <msup> <mi>b</mi> <mn>2</mn> </msup> <mo>&#x2212;</mo> <mn>4</mn> <mi>a</mi> <mi>c</mi> </msqrt> </mrow> <mrow> <mn>2</mn> <mi>a</mi> </mrow> </mfrac> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow> <mrow data-mjx-texclass="ORD"> <mo>$</mo> </mrow>\r
        </math>\r
        `);globalThis.document.getElementById(e).textContent=t}function j(e){throw new Error(e)}function pt(e){return[e.K,e.V]}function Re(e,t){let n=1+t-e;return n<=0?[]:Er(n,r=>r+e)}var _=class{Equals(e){return this===e}GetHashCode(){return-1}},tr=class extends _{constructor(t,n){super();o(this,"doc");o(this,"allVars");o(this,"anchorRoot");this.doc=n,this.allVars=t.$==0?t.$0:j("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}};function x(e,t){return Ue(e,t),e[t]}function Oe(e,t,n){Ue(e,t),e[t]=n}function Ue(e,t){(t<0||t>=e.length)&&j("Index was outside the bounds of the array.")}function E(e){return e.dims===2?e.length*e.length:e.length}var er=class extends _{constructor(t){var e=(...Wu)=>(super(...Wu),o(this,"i"),o(this,"k"),o(this,"h"),o(this,"s"),this);if(t=="New_1"){let n;e(),this.i=null,this.k=(n=or(),String(n)),this.h=Bn([]),R(this,"s",null)}}};function N(e,t){if(e===t)return!0;{let l=typeof e;if(l=="object"){if(e==null||t===null||t===void 0||!N(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return qe(e,t);if(e instanceof Date&&t instanceof Date)return nr(e,t);{let i=e,u=t,s=[!0];for(var n in i)if((c=>(s[0]=!i.hasOwnProperty(c)||u.hasOwnProperty(c)&&N(i[c],u[c]),!s[0]))(n))break;if(s[0]){for(var r in u)if((c=>(s[0]=!u.hasOwnProperty(c)||i.hasOwnProperty(c),!s[0]))(r))break}return s[0]}}else return l=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&qe(e.$Invokes,t.$Invokes))}}function qe(e,t){let n,r;if(E(e)===E(t)){for(n=!0,r=0;n&&r<E(e);)N(x(e,r),x(t,r))||(n=!1),r=r+1;return n}else return!1}function nr(e,t){return e.getTime()===t.getTime()}function St(e){let t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?_e(e):t=="object"?e==null?0:e instanceof Array?rr(e):lr(e):0}function _e(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=Jt(t,e[n].charCodeAt());return t}function rr(e){let t=-34948909;for(let n=0,r=E(e)-1;n<=r;n++)t=Jt(t,St(x(e,n)));return t}function lr(e){if("GetHashCode"in e)return e.GetHashCode();{let n=[0];for(var t in e)(r=>(n[0]=Jt(Jt(n[0],_e(r)),St(e[r])),!1))(t);return n[0]}}function Jt(e,t){return(e<<5)+e+t}function Xt(e,t){if(e===t)return 0;{let l=typeof e;switch(l=="function"?1:l=="boolean"||l=="number"||l=="string"?2:l=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return j("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return ir(e,t);if(e instanceof Date&&t instanceof Date)return ur(e,t);{let i=e,u=t,s=[0];for(var n in i)if((c=>i.hasOwnProperty(c)?u.hasOwnProperty(c)?(s[0]=Xt(i[c],u[c]),s[0]!==0):(s[0]=1,!0):!1)(n))break;if(s[0]===0){for(var r in u)if((c=>u.hasOwnProperty(c)?!i.hasOwnProperty(c)&&(s[0]=-1,!0):!1)(r))break}return s[0]}}}}function ir(e,t){let n,r;if(E(e)<E(t))return-1;if(E(e)>E(t))return 1;for(n=0,r=0;n===0&&r<E(e);)n=Xt(x(e,r),x(t,r)),r=r+1;return n}function ur(e,t){return Xt(e.getTime(),t.getTime())}function sr(e){let t=w("main");return je("index"),e?fr("index",t,e):void 0}function or(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}function ar(e){let t=[];for(var n in e)t.push(e[n]);return t}function cr(e,t,n){let r=new Z("New_5"),l=new tt("New_3"),i=k(t);try{for(;i.MoveNext();){let u=i.Current,s=u.Name;l.SAdd(s),r.set_Item(s,u)}}finally{let u=i;typeof u=="object"&&J(u)&&i.Dispose()}return[Ke(t,$e(u=>{let s=u[0],c=u[1],m=u[2];if(l.Contains(s))return null;{let $=c===0?z.GetOrAddHoleFor(e,s,()=>{let b=m==null?null:w(m.$0),p=b==null?"":b.$0,y=rt.Create_1(p);return new Wr(s,y)}):c===1?z.GetOrAddHoleFor(e,s,()=>{let b=m==null?null:w(m.$0),p=b==null?0:b.$0,y=rt.Create_1(p);return new Rr(s,y)}):c===2?z.GetOrAddHoleFor(e,s,()=>{let b=m==null?null:w(m.$0),p=b==null?!1:b.$0,y=rt.Create_1(p);return new Or(s,y)}):c===3?z.GetOrAddHoleFor(e,s,()=>{let b=m==null?null:w(m.$0),p=b==null?-864e13:b.$0,y=rt.Create_1(p);return new Ur(s,y)}):c===4?z.GetOrAddHoleFor(e,s,()=>new qr(s,rt.Create_1([]))):c===5?z.GetOrAddHoleFor(e,s,()=>new tn(s,rt.Create_1(w(globalThis.document.querySelector("[ws-dom="+s+"]"))))):c===6?z.GetOrAddHoleFor(e,s,()=>{let b=m==null?null:w(m.$0),p=b==null?[]:b.$0,y=rt.Create_1(p);return new _r(s,y)}):j("Invalid value type");return r.set_Item(s,$),w($)}},n)),{$:0,$0:r}]}function w(e){return{$:1,$0:e}}function je(e){hr()||(dr(!0),mr(globalThis.document.body,"")),kt().set_Item(e,Zt(""))}function fr(e,t,n){let r,l=(r=null,[Zt(e).TryGetValue(t==null?"":t.$0,{get:()=>r,set:i=>{r=i}}),r]);return l[0]?pr(l[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",t),$t.Empty)}function hr(){return gt.LocalTemplatesLoaded}function dr(e){gt.LocalTemplatesLoaded=e}function mr(e,t){let n=Zt(t),r=new Z("New_5"),l=e.querySelectorAll("[ws-template]");for(let $=0,b=l.length-1;$<=b;$++){let p=l[$],y=p.getAttribute("ws-template").toLowerCase();p.removeAttribute("ws-template"),r.set_Item(y,He(p))}let i=e.querySelectorAll("[ws-children-template]");for(let $=0,b=i.length-1;$<=b;$++){let p=i[$],y=p.getAttribute("ws-children-template").toLowerCase();p.removeAttribute("ws-children-template"),r.set_Item(y,$r(p))}let u=e.querySelectorAll("template[id]");for(let $=0,b=u.length-1;$<=b;$++){let p=u[$];r.set_Item(p.getAttribute("id").toLowerCase(),Pe(p))}let s=e.querySelectorAll("template[name]");for(let $=0,b=s.length-1;$<=b;$++){let p=s[$];r.set_Item(p.getAttribute("name").toLowerCase(),Pe(p))}let c=new tt("New_3");function m($){if(!n.ContainsKey($)){let b,p=(b=null,[r.TryGetValue($,{get:()=>b,set:y=>{b=y}}),b]);p[0]?(c.SAdd($),r.RemoveKey($),Vt(t,w($),p[1],w(m))):console.warn(c.Contains($)?"Encountered loop when instantiating "+$:"Local template does not exist: "+$)}}for(;r.count>0;)m(Nr(r.Keys))}function kt(){return gt.LoadedTemplates}function Zt(e){let t,n=(t=null,[kt().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{let r=new Z("New_5");return kt().set_Item(e,r),r}}function pr(e,t){let n=wr(e,Ke(t,gr().Values)),r=n[1],l=n[0],i=l.Els;return!N(i,null)&&i.length===1&&x(i,0)instanceof Node&&N(x(i,0).nodeType,Node.ELEMENT_NODE)&&(x(i,0),!0)?vl.TreeNode(l,r):$t.Mk(en(l),r)}function He(e){e.removeAttribute("ws-template");let t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");let r=e.parentNode;if(!N(r,null)){let l=globalThis.document.createElement(e.tagName);l.setAttribute("ws-replace",t),r.replaceChild(l,e)}}let n=globalThis.document.createElement("div");return n.appendChild(e),n}function $r(e){let t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function Pe(e){let t=globalThis.document.createElement("div"),n=e.content;for(let r=0,l=n.childNodes.length-1;r<=l;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function Vt(e,t,n,r){let l=new tt("New_3");function i(p,y){for(;;)switch(p){case 0:if(y!==null){let a=y.nextSibling;N(y.nodeType,Node.TEXT_NODE)?Sl(y):N(y.nodeType,Node.ELEMENT_NODE)&&s(y),y=a}else return null;break;case 1:let G=ut(y.nodeName,w(3),null).toLowerCase(),U=G.indexOf("."),q=U===-1?[e,G]:[ut(G,null,w(U-1)),ut(G,w(U+1),null)],v=q[1],d=q[0];if(d!=""&&!kt().ContainsKey(d))return hn(v);{d==""&&r!=null&&r.$0(v);let a=kt().Item(d);if(a.ContainsKey(v)){let f=a.Item(v).cloneNode(!0),h=new tt("New_3"),g=new Z("New_5"),C=y.attributes;for(let S=0,F=C.length-1;S<=F;S++){let A=C.item(S).name.toLowerCase(),H=C.item(S).nodeValue,Bt=H==""?A:H.toLowerCase();g.set_Item(A,Bt),h.SAdd(A)||console.warn("Hole mapped twice",A)}for(let S=0,F=y.childNodes.length-1;S<=F;S++){let A=y.childNodes[S];N(A.nodeType,Node.ELEMENT_NODE)&&(h.SAdd(A.nodeName.toLowerCase())||console.warn("Hole filled twice",v))}let V=y.childNodes.length===1&&N(y.firstChild.nodeType,Node.TEXT_NODE);if(V){let S=kl(f,y.firstChild.textContent,v),F=(A=>H=>A.SAdd(H))(h);(A=>H=>{H!=null&&A(H.$0)})(A=>{F(A)})(S)}if(Vl(f,h),!V)for(let S=0,F=y.childNodes.length-1;S<=F;S++){let A=y.childNodes[S];N(A.nodeType,Node.ELEMENT_NODE)&&(A.hasAttributes()?Dl(f,A):u(f,A))}Gl(f,g),dn(f,y.parentNode,y),y.parentNode.removeChild(y);return}else return hn(v)}}}function u(p,y){let G=y.nodeName.toLowerCase(),U=(v,d)=>{if(G=="title"&&y.hasChildNodes()){let a=Il(y.textContent);for(y.removeChild(y.firstChild);a.hasChildNodes();)y.appendChild(a.firstChild)}return s(y),dn(y,v,d)};O(p,"[ws-attr-holes]",v=>{let d=Y(v.getAttribute("ws-attr-holes"),[" "],1);for(let a=0,f=d.length-1;a<=f;a++){let h=x(d,a),g=new RegExp("\\${"+G+"}","ig"),C=v.getAttribute(h).replace(g,y.textContent);v.setAttribute(h,C)}});let q=p.querySelector("[ws-hole="+G+"]");if(N(q,null)){let v=p.querySelector("[ws-replace="+G+"]");if(N(v,null)){let d=p.querySelector("slot[name="+G+"]");return p.tagName.toLowerCase()=="template"?(U(d.parentNode,d),void d.parentNode.removeChild(d)):null}else{U(v.parentNode,v),v.parentNode.removeChild(v);return}}else{for(;q.hasChildNodes();)q.removeChild(q.lastChild);return q.removeAttribute("ws-hole"),(v=>{let d=v;return a=>U(d,a)})(q)(null)}}function s(p){p.hasAttribute("ws-preserve")||(Te(p.nodeName.toLowerCase(),"ws-")?m(p):(mn(p),c(p.firstChild)))}function c(p){return i(0,p)}function m(p){return i(1,p)}function $(p){for(;;){let y=p.querySelector("[ws-template]");if(N(y,null)){let G=p.querySelector("[ws-children-template]");if(N(G,null)){let U=p.querySelectorAll("template[id]");for(let v=1,d=U.length-1;v<=d;v++){let a=U[v];l.Contains(a)||(Vt(e,w(a.getAttribute("id")),a,null),l.SAdd(a))}let q=p.querySelectorAll("template[name]");for(let v=1,d=q.length-1;v<=d;v++){let a=q[v];l.Contains(a)||(Vt(e,w(a.getAttribute("name")),a,null),l.SAdd(a))}return null}else{let U=G.getAttribute("ws-children-template");G.removeAttribute("ws-children-template"),Vt(e,w(U),G,null),p=p}}else{let G=y.getAttribute("ws-template");yr(e,w(G),y)(null),p=p}}}let b=(t==null?"":t.$0).toLowerCase();Zt(e).set_Item(b,n),n.hasChildNodes()&&($(n),c(n.firstChild))}function wr(e,t){let n,r=[],l=[],i=[],u=[],s=new Z("New_5"),c=k(t);try{for(;c.MoveNext();){let d=c.Current;s.set_Item(d.Name,d)}}finally{let d=c;typeof d=="object"&&J(d)&&c.Dispose()}let m=pn(e),$=(d,a)=>{let f=bn(d,a);l.push(Nn(f)),i.push([d,f]);let h=D(f.OnAfterRender);if(h==null)return null;{let g=h.$0;u.push(()=>{g(d)});return}},b=d=>{let a,f=(a=null,[s.TryGetValue(d,{get:()=>a,set:h=>{a=h}}),a]);if(f[0]){let h=f[1];if(h instanceof ri)return w(h.Value);if(h instanceof li)return w($t.TextNode(h.Value));{let g=h.ForTextView();return g==null?null:w($t.TextView(g.$0))}}else return null};O(e,"[ws-hole]",d=>{let a=d.getAttribute("ws-hole");for(d.removeAttribute("ws-hole");d.hasChildNodes();)d.removeChild(d.lastChild);let f=b(a);if(f!=null&&f.$==1){let h=f.$0;Yt(d,h.docNode),r.push(ee.New(Ce(d),h.docNode,null,d,Rt(),null)),l.push(h.updates)}}),O(e,"[ws-replace]",d=>{let a=b(d.getAttribute("ws-replace"));if(a!=null&&a.$==1){let f=a.$0,h=d.parentNode,g=globalThis.document.createTextNode("");h.replaceChild(g,d);let C=dl(g,f.docNode);m=pn(e);let V=Je(S=>d===S,m);V==null||Oe(m,V.$0,f.docNode),r.push(ee.New(Ce(h),f.docNode,w([C,g]),h,Rt(),null)),l.push(f.updates)}});let p=!1;O(e,"slot",d=>{let a=d.getAttribute("name"),f=a==""||a==null?"default":a.toLowerCase();if(!(p&&f=="default"||!N(e.parentElement,null))){for(;d.hasChildNodes();)d.removeChild(d.lastChild);f=="default"&&(p=!0);let h=b(f);if(h!=null&&h.$==1){let g=h.$0;Yt(d,g.docNode),r.push(ee.New(Ce(d),g.docNode,null,d,Rt(),null)),l.push(g.updates)}}}),O(e,"[ws-attr]",d=>{let a,f=d.getAttribute("ws-attr");d.removeAttribute("ws-attr");let h=(a=null,[s.TryGetValue(f,{get:()=>a,set:g=>{a=g}}),a]);if(h[0]){let g=h[1];g instanceof ii?$(d,g.Value):console.warn("Attribute hole filled with non-attribute data",f)}}),O(e,"[ws-on]",d=>{$(d,st.Concat($e(a=>{let f,h=Y(a,[":"],1),g=(f=null,[s.TryGetValue(x(h,1),{get:()=>f,set:C=>{f=C}}),f]);if(g[0]){let C=g[1];return C instanceof ui?w(si(x(h,0),C.Value)):C instanceof $i?w(st.Handler(x(h,0),C.Value)):(console.warn("Event hole on"+x(h,0)+" filled with non-event data",x(h,1)),null)}else return null},Y(d.getAttribute("ws-on"),[" "],1)))),d.removeAttribute("ws-on")}),O(e,"[ws-onafterrender]",d=>{let a,f=d.getAttribute("ws-onafterrender"),h=(a=null,[s.TryGetValue(f,{get:()=>a,set:g=>{a=g}}),a]);if(h[0]){let g=h[1];g instanceof wi||g instanceof Be?(d.removeAttribute("ws-onafterrender"),$(d,oi(g.Value))):console.warn("onafterrender hole filled with non-onafterrender data",f)}}),O(e,"[ws-var]",d=>{let a,f=d.getAttribute("ws-var");d.removeAttribute("ws-var");let h=(a=null,[s.TryGetValue(f,{get:()=>a,set:g=>{a=g}}),a]);h[0]&&h[1].AddAttribute(g=>C=>$(g,C),d)});let y=()=>{br("[ws-dom]",d=>{let a,f,h,g=(a=null,[s.TryGetValue(d.getAttribute("ws-dom").toLowerCase(),{get:()=>a,set:C=>{a=C}}),a]);if(g[0]){let C=g[1];if(C instanceof tn){let V=C.Value;d.removeAttribute("ws-dom"),f=d;let S=new MutationObserver((F,A)=>{K(H=>{H.removedNodes.forEach(Et(Bt=>Bt[0]===f&&H.addedNodes.length!==1?(V.SetFinal(null),A.disconnect()):null),null)},F)});d.parentElement!==null&&S.observe(d.parentElement,(h={},h.childList=!0,h)),V.Set(w(d)),fn(F=>{if(F!=null&&F.$==1){let A=F.$0;if(f!==A){let H=[A];f.replaceWith.apply(f,H),f=A}}else f.remove(),S.disconnect()},V.View)}}})};O(e,"[ws-attr-holes]",d=>{let a=new RegExp(Dt(),"g"),f=Y(d.getAttribute("ws-attr-holes"),[" "],1);d.removeAttribute("ws-attr-holes");for(let h=0,g=f.length-1;h<=g;h++)(()=>{let C,V=x(f,h),S=d.getAttribute(V),F=null,A=0,H=[];for(;F=a.exec(S),F!==null;){let X=ut(S,w(A),w(a.lastIndex-x(F,0).length-1));A=a.lastIndex,H.push([X,x(F,1)])}let Bt=ut(S,w(A),null);a.lastIndex=0;let M=we((X,et)=>(Tt=>{let he=Tt[0],Lu=Tt[1];return On=>{let de,Fe=On[0],Un=On[1],qn=(de=null,[s.TryGetValue(Lu,{get:()=>de,set:Me=>{de=Me}}),de]),me=qn[0]?qn[1].AsChoiceView:Ae("");return me.$==1?[he,ue.Cons(Fe==""?me.$0:I(Me=>Me+Fe,me.$0),Un)]:[he+me.$0+Fe,Un]}})(X)(et),H,[Bt,ue.Empty]);if(M[1].$==1)if(M[1].$1.$==1)if(M[1].$1.$1.$==1)if(M[1].$1.$1.$1.$==0){let X=M[0];C=_t(V,Al((et,Tt,he)=>X+et+Tt+he,M[1].$0,M[1].$1.$0,M[1].$1.$1.$0))}else{let X=M[0];C=_t(V,I(et=>X+Ct("",et),Tl(M[1])))}else{let X=M[0];C=_t(V,El((et,Tt)=>X+et+Tt,M[1].$0,M[1].$1.$0))}else if(M[0]=="")C=_t(V,M[1].$0);else{let X=M[0];C=_t(V,I(et=>X+et,M[1].$0))}else C=st.Create(V,M[0]);return $(d,C)})()});let G=m,U=u.length==0?w(()=>{y()}):w(d=>{y(),K(a=>{a(d)},u)}),q=!N(m,null)&&m.length===1&&x(m,0)instanceof Node&&x(m,0)instanceof Element&&(n=x(m,0),!0)?w(n):null,v={Els:G,Dirty:!0,Holes:r,Attrs:i,Render:U?U.$0:void 0,El:q?q.$0:void 0};return[Kt(v,["Render","El"]),se(Ot(),re,l)]}function gr(){return gt.GlobalHoles}function O(e,t,n){Ol(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function yr(e,t,n){let r=He(n);return l=>{Vt(e,t,r,l)}}function br(e,t){Ul(e,n=>{n.closest("[ws-preserve]")==null&&t(n)})}function Dt(){return gt.TextHoleRE}var $t=class dt extends _{constructor(n,r){super();o(this,"docNode");o(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){let l=globalThis.document.getElementById(n);N(l,null)?j("invalid id: "+n):dt.Run(l,r)}static Run(n,r){Yt(n,r.docNode),dt.RunInPlace(!1,n,r)}static get Empty(){return dt.Mk(null,Ot())}static RunInPlace(n,r,l){let i=cl(r,l.docNode);fn($n()||gn()?zl(fl(n,i,l.docNode)):()=>{hl(n,i,l.docNode)},l.updates)}static Mk(n,r){return new dt(n,r)}static TextNode(n){return dt.Mk(jr(globalThis.document.createTextNode(n)),Ot())}static TextView(n){let r=gl();return dt.Mk(Hr(r),I(l=>{yl(r,l)},n))}},Z=class extends _{constructor(t,n,r,l){var e=(...Ru)=>(super(...Ru),o(this,"equals"),o(this,"hash"),o(this,"count"),o(this,"data"),this);if(t=="New_5"&&(t="New_6",n=[],r=N,l=St),t=="New_6"){let i=n,u=r,s=l;e(),this.equals=u,this.hash=s,this.count=0,this.data=[];let c=k(i);try{for(;c.MoveNext();){let m=c.Current;this.set(m.K,m.V)}}finally{let m=c;typeof m=="object"&&J(m)&&c.Dispose()}}}set_Item(t,n){this.set(t,n)}set(t,n){let r=this.hash(t),l=this.data[r];if(l==null)this.count=this.count+1,this.data[r]=new Array({K:t,V:n});else{let i=Je(u=>this.equals.apply(null,[pt(u)[0],t]),l);i==null?(this.count=this.count+1,l.push({K:t,V:n})):l[i.$0]={K:t,V:n}}}TryGetValue(t,n){let r=this.data[this.hash(t)];if(r==null)return!1;{let l=Xe(i=>{let u=pt(i);return this.equals.apply(null,[u[0],t])?w(u[1]):null},r);return l!=null&&l.$==1&&(n.set(l.$0),!0)}}ContainsKey(t){let n=this.data[this.hash(t)];return n==null?!1:Ze(r=>this.equals.apply(null,[pt(r)[0],t]),n)}RemoveKey(t){return this.remove(t)}get Keys(){return new Pl(this)}GetEnumerator(){return Kr(Ir(ar(this.data)))}get Values(){return new vi(this)}remove(t){let n=this.hash(t),r=this.data[n];if(r==null)return!1;{let l=Gt(i=>!this.equals.apply(null,[pt(i)[0],t]),r);return E(l)<r.length&&(this.count=this.count-1,this.data[n]=l,!0)}}Item(t){return this.get(t)}get(t){let n=this.data[this.hash(t)];return n==null?Br():Lr(r=>{let l=pt(r);return this.equals.apply(null,[l[0],t])?w(l[1]):null},n)}},P=class extends _{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(e,t){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),Ae("")}},Be=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}get Value(){return this.fillWith}},tt=class _n extends _{constructor(n,r,l,i){var t=(...Ou)=>(super(...Ou),o(this,"equals"),o(this,"hash"),o(this,"data"),o(this,"count"),this);n=="New_3"&&(n="New_4",r=[],l=N,i=St);let u;if(n=="New_2"&&(u=r,n="New_4",r=u,l=N,i=St),n=="New_4"){let s=r,c=l,m=i;t(),this.equals=c,this.hash=m,this.data=[],this.count=0;let $=k(s);try{for(;$.MoveNext();)this.add($.Current)}finally{let b=$;typeof b=="object"&&J(b)&&$.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){let r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){let r=this.hash(n),l=this.data[r];return l==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,l)?!1:(l.push(n),this.count=this.count+1,!0)}arrContains(n,r){let l=!0,i=0,u=r.length;for(;l&&i<u;)this.equals.apply(null,[r[i],n])?l=!1:i=i+1;return!l}GetEnumerator(){return k(De(this.data))}ExceptWith(n){let r=k(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{let l=r;typeof l=="object"&&J(l)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){let r=new _n("New_4",n,this.equals,this.hash),l=De(this.data);for(let i=0,u=l.length-1;i<=u;i++){let s=l[i];r.Contains(s)||this.Remove(s)}}Remove(n){let r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){let l=De(this.data);for(let i=0,u=l.length-1;i<=u;i++)Oe(n,i+r,l[i])}arrRemove(n,r){let l=!0,i=0,u=r.length;for(;l&&i<u;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),l=!1):i=i+1;return!l}};function Ke(e,t){return{GetEnumerator:()=>{let n=k(e),r=[!0];return new lt(n,null,l=>{if(l.s.MoveNext())return l.c=l.s.Current,!0;{let i=l.s;return N(i,null)||i.Dispose(),l.s=null,r[0]&&(r[0]=!1,l.s=k(t),l.s.MoveNext()?(l.c=l.s.Current,!0):(l.s.Dispose(),l.s=null,!1))}},l=>{let i=l.s;N(i,null)||i.Dispose()})}}}function Nr(e){let t=k(e);try{return t.MoveNext()?t.Current:ye()}finally{let n=t;typeof n=="object"&&J(n)&&t.Dispose()}}function Cr(e,t,n){let r=t,l=k(n);try{for(;l.MoveNext();)r=e(r,l.Current);return r}finally{let i=l;typeof i=="object"&&J(i)&&l.Dispose()}}function xr(e,t){let n=k(t);try{for(;n.MoveNext();)e(n.Current)}finally{let r=n;typeof r=="object"&&J(r)&&n.Dispose()}}function ct(e,t){return{GetEnumerator:()=>{let n=k(t);return new lt(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function ze(e){return{GetEnumerator:()=>k(e())}}function vr(e,t){return Tr(ct(e,t))}function Ar(e){let t=k(e);try{t.MoveNext()||Sr();let n=t.Current;for(;t.MoveNext();){let r=t.Current;Xt(r,n)===1&&(n=r)}return n}finally{let n=t;typeof n=="object"&&J(n)&&t.Dispose()}}function Tr(e){return{GetEnumerator:()=>{let t=k(e);function n(r){for(;;){let l=r.s;if(N(l,null))if(t.MoveNext())r.s=k(t.Current),r=r;else return t.Dispose(),!1;else{if(l.MoveNext())return r.c=l.Current,!0;r.Dispose(),r.s=null,r=r}}}return new lt(null,null,n,r=>{let l=r.s;N(l,null)||l.Dispose();let i=t;N(i,null)||i.Dispose()})}}}function Er(e,t){return kr(e,Vr(t))}function Sr(){return j("The input sequence was empty.")}function kr(e,t){return e<0&&Hl(),{GetEnumerator:()=>{let n=[k(t)];return new lt(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{let l=n[0];return N(l,null)?ye():l.MoveNext()?(r.c=l.Current,r.s===e&&(l.Dispose(),n[0]=null),!0):(l.Dispose(),n[0]=null,ye())}},()=>{let r=n[0];N(r,null)||r.Dispose()})}}}function Vr(e){return{GetEnumerator:()=>new lt(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function Dr(e,t){return!Gr(n=>!e(n),t)}function Gr(e,t){let n=k(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{let r=n;typeof r=="object"&&J(r)&&n.Dispose()}}function $e(e,t){let n=[];for(let r=0,l=t.length-1;r<=l;r++){let i=e(t[r]);i==null||n.push(i.$0)}return n}function Je(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=w(r)),r=r+1;return n}function Xe(e,t){let n=null,r=0;for(;r<t.length&&n==null;){let l=e(t[r]);l!=null&&l.$==1&&(n=l),r=r+1}return n}function Ze(e,t){let n=!1,r=0,l=E(t);for(;!n&&r<l;)e(t[r])?n=!0:r=r+1;return n}function Ir(e){return Array.prototype.concat.apply([],It(e))}function K(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function we(e,t,n){let r=n,l=t.length;for(let i=1,u=l;i<=u;i++)r=e(t[l-i],r);return r}function nt(e,t){let n=new Array(t.length);for(let r=0,l=t.length-1;r<=l;r++)n[r]=e(t[r]);return n}function Gt(e,t){let n=[];for(let r=0,l=t.length-1;r<=l;r++)e(t[r])&&n.push(t[r]);return n}function It(e){if(e instanceof Array)return e.slice();if(e instanceof ue)return Qe(e);{let t=[],n=k(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&J(r)&&n.Dispose()}}}function Lr(e,t){let n=Xe(e,t);return n==null?j("KeyNotFoundException"):n.$0}function Qe(e){let t=[],n=e;for(;n.$!=0;)t.push(Ji(n)),n=Xi(n);return t}function Ye(e,t){let n=!0,r=0,l=E(t);for(;n&&r<l;)e(t[r])?r=r+1:n=!1;return n}function Fr(e,t){let n=new Array(e);for(let r=0,l=e-1;r<=l;r++)n[r]=t;return n}function Mr(e,t){e<0&&j("Negative size given.");let n=new Array(e);for(let r=0,l=e-1;r<=l;r++)n[r]=t(r);return n}var z=W(e=>{var t;return t=class extends _{constructor(){super(...arguments);o(this,"id");o(this,"vars")}static GetOrAddHoleFor(l,i,u){let s,c=z.GetHolesFor(l),m=(s=null,[c.TryGetValue(i,{get:()=>s,set:$=>{s=$}}),s]);if(m[0])return m[1];{let $=u();return c.set_Item(i,$),$}}static GetHolesFor(l){let i,u=(i=null,[z.initialized.TryGetValue(l,{get:()=>i,set:s=>{i=s}}),i]);if(u[0])return u[1];{let s=new Z("New_5");return z.initialized.set_Item(l,s),s}}},z=e(t),o(t,"init"),o(t,"initialized"),o(t,"instances"),z.initialized=new Z("New_5"),z.instances=new Z("New_5"),t}),Wr=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(this.fillWith.View)}AddAttribute(t,n){t(n)(ai(this.fillWith))}get AsChoiceView(){return Nt(I(String,this.fillWith.View))}},rt=W(e=>{var t;return t=class extends _{static Create_1(r){return new Jr(!1,{s:ne(r,[])},r)}},rt=e(t),t}),Rr=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(I(String,this.fillWith.View))}AddAttribute(t,n){t(n)(ci(this.fillWith))}get AsChoiceView(){return Nt(I(String,this.fillWith.View))}},Or=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(I(String,this.fillWith.View))}AddAttribute(t,n){t(n)(fi(this.fillWith))}get AsChoiceView(){return Nt(I(String,this.fillWith.View))}},Ur=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(I(t=>new Date(t).toLocaleString(),this.fillWith.View))}AddAttribute(t,n){t(n)(hi(this.fillWith))}get AsChoiceView(){return Nt(I(t=>new Date(t).toLocaleString(),this.fillWith.View))}},qr=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(I(String,this.fillWith.View))}AddAttribute(t,n){t(n)(di(this.fillWith))}get AsChoiceView(){return Nt(I(String,this.fillWith.View))}},tn=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}get Value(){return this.fillWith}},_r=class extends P{constructor(t,n){super();o(this,"name");o(this,"fillWith");this.name=t,this.fillWith=n}get Name(){return this.name}ForTextView(){return w(I(t=>Ct(",",t),this.fillWith.View))}AddAttribute(t,n){t(n)(mi(this.fillWith))}get AsChoiceView(){return Nt(I(String,this.fillWith.View))}};function en(e){return{$:6,$0:e}}function jr(e){return{$:5,$0:e}}function Hr(e){return{$:4,$0:e}}function Pr(e,t){return Eu(e,-2147483648,2147483647,t)}function Br(){throw new _i("New")}function k(e){return e instanceof Array?nn(e):N(typeof e,"string")?rn(e):e.GetEnumerator()}function nn(e){return new lt(0,null,t=>{let n=t.s;return n<E(e)&&(t.c=x(e,n),t.s=n+1,!0)},void 0)}function rn(e){return new lt(0,null,t=>{let n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function Kr(e){return e instanceof Array?nn(e):N(typeof e,"string")?rn(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}var lt=class extends _{constructor(t,n,r,l){super();o(this,"s");o(this,"c");o(this,"n");o(this,"d");o(this,"e");this.s=t,this.c=n,this.n=r,this.d=l,this.e=0}MoveNext(){let t=this.n(this);return this.e=t?1:2,t}get Current(){return this.e===1?this.c:this.e===0?j("Enumeration has not started. Call MoveNext."):j("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}},zr=class extends _{},Jr=class extends zr{constructor(t,n,r){super();o(this,"isConst");o(this,"current");o(this,"snap");o(this,"view");o(this,"id");this.isConst=t,this.current=r,this.snap=n,this.view=()=>this.snap,this.id=Rt()}SetFinal(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(qt(this.snap),this.isConst=!0,this.current=t,this.snap={s:it(t)})}Set(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(qt(this.snap),this.current=t,this.snap={s:ne(t,[])})}get View(){return this.view}Get(){return this.current}UpdateMaybe(t){let n=t(this.Get());n!=null&&n.$==1&&this.Set(n.$0)}};function Xr(e,t,n){let r=e.s;if(r==null)n();else if(r!=null&&r.$==2){let l=r.$0;r.$1.push(n),t(l)}else if(r!=null&&r.$==3){let l=r.$1;r.$0.push(t),l.push(n)}else t(r.$0)}function wt(e,t){let n=t.s;if(n!=null&&n.$==0)return{s:it(e(n.$0))};{let r={s:yt([],[])};return Q(t,l=>{un(r,t,e(l))},r),r}}function Zr(e,t,n,r){let l=t.s,i=n.s,u=r.s;if(l!=null&&l.$==0)return i!=null&&i.$==0?u!=null&&u.$==0?{s:it(e(l.$0,i.$0,u.$0))}:el(e,l.$0,i.$0,r):u!=null&&u.$==0?nl(e,l.$0,u.$0,n):rl(e,l.$0,n,r);if(i!=null&&i.$==0)return u!=null&&u.$==0?ll(e,i.$0,u.$0,t):il(e,i.$0,t,r);if(u!=null&&u.$==0)return ul(e,u.$0,t,n);{let s={s:yt([],[])},c=()=>{let m=s.s;if(!(m!=null&&m.$==0||m!=null&&m.$==2)){let $=ft(t),b=ft(n),p=ft(r);$!=null&&$.$==1&&b!=null&&b.$==1&&p!=null&&p.$==1&&($.$0[1]&&b.$0[1]&&p.$0[1]?Lt(s,e($.$0[0],b.$0[0],p.$0[0])):Ft(s,e($.$0[0],b.$0[0],p.$0[0])))}};return Q(t,c,s),Q(n,c,s),Q(r,c,s),s}}function Qr(e){let t=It(e);if(t.length==0)return{s:it([])};{let n={s:yt([],[])},r=[E(t)-1],l=()=>{if(r[0]===0){let i=nt(u=>{let s=u.s;return s!=null&&s.$==0||s!=null&&s.$==2?s.$0:j("value not found by View.Sequence")},t);Ye(u=>{let s=u.s;return s!=null&&s.$==0},t)?Lt(n,i):Ft(n,i)}else r[0]=r[0]-1};return K(i=>{Q(i,l,n)},t),n}}function Qt(e,t,n){let r=t.s,l=n.s;if(r!=null&&r.$==0)return l!=null&&l.$==0?{s:it(e(r.$0,l.$0))}:sl(e,r.$0,n);if(l!=null&&l.$==0)return ol(e,l.$0,t);{let i={s:yt([],[])},u=()=>{let s=i.s;if(!(s!=null&&s.$==0||s!=null&&s.$==2)){let c=ft(t),m=ft(n);c!=null&&c.$==1&&m!=null&&m.$==1&&(c.$0[1]&&m.$0[1]?Lt(i,e(c.$0[0],m.$0[0])):Ft(i,e(c.$0[0],m.$0[0])))}};return Q(t,u,i),Q(n,u,i),i}}function Yr(e,t){let n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:it(null)}:t;if(r!=null&&r.$==0)return e;{let l={s:yt([],[])},i=()=>{let u=l.s;if(!(u!=null&&u.$==0||u!=null&&u.$==2)){let s=ft(e),c=ft(t);s!=null&&s.$==1&&c!=null&&c.$==1&&(s.$0[1]&&c.$0[1]?Lt(l,null):Ft(l,null))}};return Q(e,i,l),Q(t,i,l),l}}function tl(e){let t=e.s;if(t==null)return e;if(t!=null&&t.$==2){let n={s:ne(t.$0,[])};return al(e,n),n}else if(t!=null&&t.$==3){let n={s:yt([],[])};return Q(e,r=>{un(n,e,r)},n),n}else return e}function ln(e,t){let n=e.s;n==null?t():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(t)):n.$0}function Q(e,t,n){let r=e.s;if(r==null)qt(n);else if(r!=null&&r.$==2){let l=r.$0;ge(r.$1,n),t(l)}else if(r!=null&&r.$==3){let l=r.$1;r.$0.push(t),ge(l,n)}else t(r.$0)}function un(e,t,n){let r=t.s;r!=null&&r.$==0?Lt(e,n):Ft(e,n)}function el(e,t,n,r){return wt(l=>e(t,n,l),r)}function nl(e,t,n,r){return wt(l=>e(t,l,n),r)}function rl(e,t,n,r){return Qt((l,i)=>e(t,l,i),n,r)}function ll(e,t,n,r){return wt(l=>e(l,t,n),r)}function il(e,t,n,r){return Qt((l,i)=>e(l,t,i),n,r)}function ul(e,t,n,r){return Qt((l,i)=>e(l,i,t),n,r)}function ft(e){let t=e.s;return t!=null&&t.$==0?w([t.$0,!0]):t!=null&&t.$==2?w([t.$0,!1]):null}function Lt(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$0;e.s=it(t);for(let l=0,i=E(r)-1;l<=i;l++)x(r,l)(t)}}function Ft(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$1,l=n.$0;e.s=ne(t,r);for(let i=0,u=E(l)-1;i<=u;i++)x(l,i)(t)}}function sl(e,t,n){return wt(r=>e(t,r),n)}function ol(e,t,n){return wt(r=>e(r,t),n)}function al(e,t){let n=e.s;n==null?qt(t):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,ge(n.$1,t)):n.$0}function ge(e,t){if(e.push(t),e.length%20===0){let n=e.slice(0);Gu(e);for(let r=0,l=E(n)-1;r<=l;r++){let i=x(n,r);typeof i=="object"?(u=>{u.s&&e.push(u)})(i):(u=>{e.push(u)})(i)}}}var gt=W(e=>{var t;return t=class{},gt=e(t),o(t,"RenderedFullDocTemplate"),o(t,"TextHoleRE"),o(t,"GlobalHoles"),o(t,"LocalTemplatesLoaded"),o(t,"LoadedTemplates"),t.LoadedTemplates=new Z("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new Z("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function Yt(e,t){Mt(e,t,null)}function Mt(e,t,n){for(;;){if(t!=null&&t.$==1)return te(e,t.$0.El,n);if(t!=null&&t.$==2){let r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return te(e,t.$0.Text,n);if(t!=null&&t.$==5)return te(e,t.$0,n);if(t!=null&&t.$==6)return we((r,l)=>(i=>u=>s=>u==null||u.constructor===Object?Mt(i,u,s):te(i,u,s))(e)(r)(l),t.$0.Els,n);{let r=t.$1;t=t.$0,n=Mt(e,r,n)}}}}function cl(e,t){return Ai(Ti(),ml(e,xn(),t))}function fl(e,t,n){return $n()?ke(()=>{let r=Tn(n),l=wl(t,r),i=$l(t,r);return Ht(wn(Bl(l,pl(t,r))),()=>Ht(sn(e,t),()=>Ht(wn(i),()=>(t.PreviousNodes=r,ae(null)))))}):sn(e,t)}function hl(e,t,n){let r=Tn(n);Wt(e,t.Top),t.PreviousNodes=r}function dl(e,t){let n=e.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,e),bl(e,t),r}function te(e,t,n){return ql(e,n,t),t}function ml(e,t,n){Yt(e,n);let r=bn(e,t);return ee.New(r,n,null,e,Rt(),D(r.OnAfterRender))}function sn(e,t){if(gn()){let n=r=>{requestAnimationFrame(()=>{Wt(e,t.Top),r()})};return Sn((r,l,i)=>n.apply(null,[r,l,i]))}else return Wt(e,t.Top),ae(null)}function pl(e,t){return le(nt(n=>Xl(n.Attr),Se(En(t,Ee(n=>Jl(n.Attr),e.PreviousNodes)))))}function $l(e,t){return le(nt(n=>Ql(n.Attr),Se(En(e.PreviousNodes,Ee(n=>Zl(n.Attr),t)))))}function wl(e,t){let n=l=>Yl(l.Attr),r=l=>Ee(n,l);return le(nt(l=>ti(l.Attr),Se(Ei(r(e.PreviousNodes),r(t)))))}function Wt(e,t){e||Nl(t),on(t.Children),an(t)}function gl(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function yl(e,t){e.Value=t,e.Dirty=!0}function bl(e,t){Mt(e.parentNode,t,e)}function Nl(e){function t(n){function r(l){for(;;)if(l!=null&&l.$==0){let i=l.$1,u=l.$0;if(r(u))return!0;l=i}else if(l!=null&&l.$==2){let i=l.$0;if(i.Dirty)return!0;l=i.Current}else if(l!=null&&l.$==6){let i=l.$0;return i.Dirty||Ze(t,i.Holes)}else return!1}return r(n.Children)}vn(e.El,e.Attr),t(e)&&Cl(e)}function on(e){for(;;){if(e!=null&&e.$==1)return Wt(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null||e!=null&&e.$==5)return null;if(e!=null&&e.$==4){let t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){let t=e.$0;return K(n=>{Wt(!1,n)},t.Holes),K(n=>{vn(n[0],n[1])},t.Attrs),an(t)}else{let t=e.$1,n=e.$0;on(n),e=t}}}}function an(e){let t=D(e.Render);t!=null&&t.$==1&&(t.$0(e.El),R(e,"Render",null))}function Cl(e){let t=e.El;function n(s,c){for(;;){if(s!=null&&s.$==1)return s.$0.El;if(s!=null&&s.$==2){let m=s.$0;if(m.Dirty)return m.Dirty=!1,Mt(t,m.Current,c);s=m.Current}else{if(s==null)return c;if(s!=null&&s.$==4)return s.$0.Text;if(s!=null&&s.$==5)return s.$0;if(s!=null&&s.$==6){let m=s.$0;return m.Dirty&&(m.Dirty=!1),we(($,b)=>$==null||$.constructor===Object?n($,b):$,m.Els,c)}else{let m=s.$1;s=s.$0,c=n(m,c)}}}}let r=e.El;xu(s=>{_l(r,s)},Cu(vu(e),Nu(e.El,D(e.Delimiters))));let l=e.Children,i=D(e.Delimiters),u=i!=null&&i.$==1?i.$0[1]:null;n(l,u)}var ee=class jn{constructor(){o(this,"Attr");o(this,"Children");o(this,"Delimiters");o(this,"El");o(this,"ElKey");o(this,"Render")}Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,l,i,u){let s={Attr:t,Children:n,El:l,ElKey:i},c=(R(s,"Delimiters",r),R(s,"Render",u),s);return L(jn,c)}};function Rt(){return xl(cn()+1),cn()}function xl(e){Ge.counter=e}function cn(){return Ge.counter}function ne(e,t){return{$:2,$0:e,$1:t}}function it(e){return{$:0,$0:e}}function yt(e,t){return{$:3,$0:e,$1:t}}var vl=class Hn extends $t{constructor(n,r,l,i){super(n,r);o(this,"docNode_1");o(this,"updates_1");o(this,"elt");o(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=l,this.rvUpdates=i}static TreeNode(n,r){let l=xi.Create(r),i=en(n),u=nt(m=>Nn(m[1]),n.Attrs),s=se(Ot(),re,u),c=re(s,l.v);return new Hn(i,c,x(n.Els,0),l)}};function Ot(e){let t={s:it(e)};return()=>t}function fn(e,t){function n(){Xr(t(),e,()=>{xt().Fork(n)})}xt().Fork(n)}function I(e,t){return Ut(()=>wt(e,t()))}function Al(e,t,n,r){return Ut(()=>Zr(e,t(),n(),r()))}function Tl(e){return Ut(()=>Qr(ct(t=>t(),e)))}function El(e,t,n){return Ut(()=>Qt(e,t(),n()))}function re(e,t){return Ut(()=>Yr(e(),t()))}function Ut(e){let t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;let r=n.s;return r!=null&&r.$==0?t.o=null:ln(n,()=>{t.c=null}),n}else return n}}function Sl(e){let t=null,n=0,r=e.textContent,l=new RegExp(Dt(),"g");for(;t=l.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(ut(r,w(n),w(l.lastIndex-x(t,0).length-1))),e),n=l.lastIndex;let i=globalThis.document.createElement("span");i.setAttribute("ws-replace",x(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}l.lastIndex=0,e.textContent=ut(r,w(n),null)}function hn(e){console.warn("Instantiating non-loaded template",e)}function kl(e,t,n){let r=e.querySelector("[ws-replace]");return N(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),w(r.getAttribute("ws-replace")))}function Vl(e,t){let n=r=>{O(e,"["+r+"]",l=>{t.Contains(l.getAttribute(r))||l.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),O(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),O(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),O(e,"[ws-on]",r=>{r.setAttribute("ws-on",Ct(" ",Gt(l=>t.Contains(x(Y(l,[":"],1),1)),Y(r.getAttribute("ws-on"),[" "],1))))}),O(e,"[ws-attr-holes]",r=>{let l=Y(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,u=l.length-1;i<=u;i++){let s=x(l,i),c=new RegExp(Dt(),"g"),m=r.getAttribute(s).replace(c,($,b)=>t.Contains(b)?$:"");r.setAttribute(s,m)}})}function Dl(e,t){mn(t);let n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(N(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let l=0,i=t.attributes.length-1;l<=i;l++){let u=t.attributes.item(l);u.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+u.nodeValue):r.setAttribute(u.name,u.nodeValue)}}}function Gl(e,t){let n=r=>{O(e,"["+r+"]",l=>{let i,u=(i=null,[t.TryGetValue(l.getAttribute(r).toLowerCase(),{get:()=>i,set:s=>{i=s}}),i]);u[0]&&l.setAttribute(r,u[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),O(e,"[ws-on]",r=>{r.setAttribute("ws-on",Ct(" ",nt(l=>{let i,u=Y(l,[":"],1),s=(i=null,[t.TryGetValue(x(u,1),{get:()=>i,set:c=>{i=c}}),i]);return s[0]?x(u,0)+":"+s[1]:l},Y(r.getAttribute("ws-on"),[" "],1))))}),O(e,"[ws-attr-holes]",r=>{let l=Y(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,u=l.length-1;i<=u;i++)(()=>{let s=x(l,i);return r.setAttribute(s,Cr((c,m)=>{let $=pt(m);return c.replace(new RegExp("\\${"+$[0]+"}","ig"),"${"+$[1]+"}")},r.getAttribute(s),t))})()})}function dn(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function mn(e){let t=e.attributes,n=[],r=[],l=[];for(let u=0,s=t.length-1;u<=s;u++){let c=t.item(u);if(Te(c.nodeName,"ws-on")&&c.nodeName!="ws-onafterrender"&&c.nodeName!="ws-on")n.push(c.nodeName),r.push(ut(c.nodeName,w(5),null)+":"+c.nodeValue.toLowerCase());else if(!Te(c.nodeName,"ws-")&&new RegExp(Dt()).test(c.nodeValue)){let m=new RegExp(Dt(),"g"),$=c.nodeValue.replace(m,(b,p)=>"${"+p.toLowerCase()+"}");c.nodeValue=$,l.push(c.nodeName)}}r.length!=0&&e.setAttribute("ws-on",Ct(" ",r)),l.length!=0&&e.setAttribute("ws-attr-holes",Ct(" ",l));let i=u=>{let s=e.getAttribute(u);s==null||e.setAttribute(u,s.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),K(u=>{e.removeAttribute(u)},n)}function ut(e,t,n){if(t==null)if(n!=null&&n.$==1){let r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{let r=n.$0,l=t.$0;return r<0?"":e.slice(l,r+1)}}}function Il(e){let t=globalThis.document.createElement("div");if(Ll().test(e)){let n=function(s,c){for(;;){if(c===0)return s;{let m=c;s=s.lastChild,c=m-1}}},r=Rl().exec(e),l=N(r,null)?"":x(r,1).toLowerCase(),i=Fl()[l],u=i||Ml();return t.innerHTML=u[1]+e.replace(Wl(),"<$1></$2>")+u[2],(s=>{let c=s;return m=>n(c,m)})(t)(u[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function pn(e){let t=[];for(let n=0,r=e.childNodes.length-1;n<=r;n++)t.push(e.childNodes[n]);return t}function Ll(){return vt.rhtml}function Fl(){return vt.wrapMap}function Ml(){return vt.defaultWrap}function Wl(){return vt.rxhtmlTag}function Rl(){return vt.rtagName}function Ol(e,t,n){let r=e.querySelectorAll(t);for(let l=0,i=r.length-1;l<=i;l++)n(r[l])}function Ul(e,t){let n=globalThis.document.querySelectorAll(e);for(let r=0,l=n.length-1;r<=l;r++)t(n[r])}function ql(e,t,n){let r;if(n.parentNode===e){let l=n.nextSibling,i=N(l,null)?null:l;r=t===i}else r=!1;r||e.insertBefore(n,t)}function _l(e,t){t.parentNode===e&&e.removeChild(t)}function ye(){return j("The input sequence has an insufficient number of elements.")}function jl(e,t){let n=!0,r=0,l=E(t);for(;n&&r<l;)N(t[r],e)?n=!1:r=r+1;return!n}function Hl(){return j("The input must be non-negative.")}var Pl=class extends _{constructor(t){super();o(this,"d");this.d=t}GetEnumerator(){return k(ct(t=>t.K,this.d))}};function $n(){return Ii()}function wn(e){return ke(()=>Ht(Kl(()=>{},Li(e)),()=>(Fi(e),ae(null))))}function Bl(e,t){return be(Gn(e.$0,t.$0))}function Kl(e,t){let n=t.Duration;if(n===0)return Ve();{let r=l=>{function i(u){return s=>{let c=s-u;return t.Compute(c),c<=n?void requestAnimationFrame(m=>{i(u)(m)}):l()}}requestAnimationFrame(u=>{i(u)(u)})};return Sn((l,i,u)=>r.apply(null,[l,i,u]))}}function be(e){return{$:0,$0:e}}function le(e){return be(Ui(ct(Wi,e)))}function Ne(){return be(Ln())}function gn(){return Vn.BatchUpdatesEnabled}function zl(e){let t=[0];function n(){return ke(()=>Ht(e,()=>{let r=t[0];return N(r,1)?(t[0]=0,Ve()):N(r,2)?(t[0]=1,n()):Ve()}))}return()=>{let r=t[0];N(r,0)?(t[0]=1,Si(n())):N(r,1)&&(t[0]=2)}}function yn(e,t,n,r){let l={DynElem:e,DynFlags:t,DynNodes:n};return R(l,"OnAfterRender",r),l}function qt(e){let t,n=e.s;if(!(n==null||!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1))){e.s=null;for(let r=0,l=E(t)-1;r<=l;r++){let i=x(t,r);typeof i=="object"?(u=>{qt(u)})(i):i()}}}function bn(e,t){let n=[],r=[];function l(u){for(;;)if(u!==null){if(u!=null&&u.$==1)return n.push(u.$0);if(u!=null&&u.$==2){let s=u.$1,c=u.$0;l(c),u=s}else return u!=null&&u.$==3?u.$0(e):u!=null&&u.$==4?r.push(u.$0):null}else return null}l(t);let i=n.slice(0);return yn(e,xe(t),i,r.length===0?null:w(u=>{xr(s=>{s(u)},r)}))}function Nn(e){return Ci(t=>t.NChanged,Ot(),re,e.DynNodes)}function Ce(e){return yn(e,0,[],null)}function xe(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function ie(e){return st.A3(e)}function Cn(e,t){return st.A1(new qi(e,t))}function xn(){return T.EmptyAttr}function Jl(e){return(e.DynFlags&2)===2}function Xl(e){return ve(e,(t,n)=>t.NGetExitAnim(n))}function Zl(e){return(e.DynFlags&1)===1}function Ql(e){return ve(e,(t,n)=>t.NGetEnterAnim(n))}function Yl(e){return(e.DynFlags&4)===4}function ti(e){return ve(e,(t,n)=>t.NGetChangeAnim(n))}function ei(e,t){if(e===null)return t;if(t===null)return e;{let n=st.A2(e,t);return ni(n,xe(e)|xe(t)),n}}function ve(e,t){return le(nt(n=>t(n,e.DynElem),e.DynNodes))}function vn(e,t){K(n=>{n.NSync(e)},t.DynNodes)}function ni(e,t){e.flags=t}var ri=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},li=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}get AsChoiceView(){return Ae(this.fillWith)}},ii=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},ui=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}};function si(e,t){return ie(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function oi(e){return st.A4(e)}function _t(e,t){return Cn(t,n=>r=>n.setAttribute(e,r))}function ai(e){return bt(mu(),e)}function ci(e){return bt(pu(),e)}function fi(e){return bt($u(),e)}function hi(e){return bt(wu(),e)}function di(e){return bt(gu(),e)}function mi(e){return bt(yu(),e)}function bt(e,t){let n=e(t);return st.Append(ie(n[0]),pi(n[1],n[2]))}function pi(e,t){return Cn(t,e)}var $i=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},st=class mt{static Handler(t,n){return mt.HandlerImpl(t,n)}static Concat(t){let n=oe(t);return se(xn(),mt.Append,n)}static Create(t,n){return ie(r=>{r.setAttribute(t,n)})}static HandlerImpl(t,n){return ie(r=>{r.addEventListener(t,l=>n(r)(l),!1)})}static Append(t,n){return ei(t,n)}static A4(t){return L(mt,{$:4,$0:t})}static A3(t){return L(mt,{$:3,$0:t})}static A1(t){return L(mt,{$:1,$0:t})}static A2(t,n){return L(mt,{$:2,$0:t,$1:n})}},wi=class extends P{constructor(){super(...arguments);o(this,"name");o(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}};function Ae(e){return{$:0,$0:e}}function Nt(e){return{$:1,$0:e}}var ue=(at=class{static Cons(t,n){return L(at,{$:1,$0:t,$1:n})}GetEnumerator(){return new lt(this,null,t=>{let n=t.s;if(n.$==0)return!1;{let r=n.$1;return t.c=n.$0,t.s=r,!0}},void 0)}},o(at,"Empty",L(at,{$:0})),at);function Ct(e,t){return It(t).join(e)}function Y(e,t,n){return gi(e,new RegExp("["+yi(t.join(""))+"]"),n)}function Te(e,t){return e.substring(0,t.length)==t}function gi(e,t,n){return n===1?Gt(r=>r!=="",An(e,t)):An(e,t)}function yi(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function An(e,t){return e.split(t)}function bi(e,t){return Dr(e,Ni(t))}function Ni(e){return e??""}function se(e,t,n){let r=E(n);function l(i){return u=>{switch(u<=0?0:u===1&&i>=0&&i<r?1:2){case 0:return e;case 1:return x(n,i);case 2:let s=u/2>>0;return t(l(i)(s),l(i+s)(u-s))}}}return l(0)(r)}function Ci(e,t,n,r){let l=E(r);function i(u){return s=>{switch(s<=0?0:s===1&&u>=0&&u<l?1:2){case 0:return t;case 1:return e(x(r,u));case 2:let c=s/2>>0;return n(i(u)(c),i(u+c)(s-c))}}}return i(0)(l)}function oe(e){if(e instanceof Array)return e;if(e instanceof ue)return Qe(e);if(e===null)return[];{let t=[],n=k(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&J(r)&&n.Dispose()}}}var xi=class We{constructor(){o(this,"c");o(this,"s");o(this,"v")}static Create(t){let n;return n=null,n=We.New(t,null,()=>{let r;return r=n.s,r===null&&(r=tl(n.c()),n.s=r,ln(r,()=>{n.s=null})),r}),n}static New(t,n,r){return L(We,{c:t,s:n,v:r})}},vi=class extends _{constructor(t){super();o(this,"d");this.d=t}GetEnumerator(){return k(ct(t=>t.V,this.d))}};function Ai(e,t){return{PreviousNodes:e,Top:t}}function Ti(){return jt(new tt("New_3"))}function Tn(e){let t=[];function n(i,u){for(;;)switch(i){case 0:if(u!=null&&u.$==0){let s=u.$1,c=u.$0;n(0,c),u=s}else if(u!=null&&u.$==1)u=u.$0,i=1;else if(u!=null&&u.$==2)u=u.$0.Current;else if(u!=null&&u.$==6){let s=u.$0.Holes;return(c=>m=>{K(c,m)})(l)(s)}else return null;break;case 1:t.push(u),u=u.Children,i=0;break}}function r(i){return n(0,i)}function l(i){return n(1,i)}return r(e),jt(new tt("New_2",t))}function jt(e){return{$:0,$0:e}}function Ee(e,t){return jt(Bi(e,t.$0))}function En(e,t){return jt(Ki(e.$0,t.$0))}function Se(e){return At(e.$0)}function Ei(e,t){return jt(zi(e.$0,t.$0))}function ke(e){return t=>{try{e()(t)}catch(n){t.k(Ie(n))}}}function Ht(e,t){return ki(n=>{e(Fn(r=>{if(r.$==0){let l=r.$0;xt().Fork(()=>{try{t(l)(n)}catch(i){n.k(Ie(i))}})}else xt().Fork(()=>{n.k(r)})},n.ct))})}function Ve(){return ce.Zero}function Si(e,t){let n=Vi()[0],r=n;xt().Fork(()=>{r.c||e(Fn(l=>{l.$==1&&Di(l.$0)},r))})}function ae(e){return t=>{t.k(Le(e))}}function xt(){return ce.scheduler}function ki(e){return t=>{t.ct.c?Gi(t):e(t)}}function Vi(){return ce.defCTS}function Di(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function Sn(e){return t=>{let n=[!1],r=l=>{n[0]?j("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,xt().Fork(l))};e(l=>{r(()=>{t.k(Le(l))})},l=>{r(()=>{t.k(Ie(l))})},l=>{r(()=>{t.k(Mn(l))})})}}function Gi(e){e.k(Mn(new Su("New",e.ct)))}function Ii(){return Dn.UseAnimations}function Li(e){return Mi($e(t=>t.$==1?w(t.$0):null,In(e.$0)))}function Fi(e){K(t=>{t.$==0&&t.$0()},In(e.$0))}function Mi(e){let t=oe(e),n=E(t);if(n===0)return Ri();if(n===1)return x(t,0);{let r=Ar(ct(i=>i.Duration,t)),l=nt(i=>Oi(r,i),t);return kn(r,i=>{K(u=>{u.Compute(i)},l)})}}function Wi(e){return e.$0}function Ri(e){return kn(0,()=>e)}function kn(e,t){return{Compute:t,Duration:e}}function Oi(e,t){let n=t.Compute,r=t.Duration,l=ku(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?l.f():n(i),Duration:e}}var Vn=W(e=>{var t;return t=class{},Vn=e(t),o(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function De(e){let t=[];for(var n in e)t.push.apply(t,e[n]);return t}var Ge=W(e=>{var t;return t=class{},Ge=e(t),o(t,"counter"),t.counter=0,t}),vt=W(e=>{var t;return t=class{},vt=e(t),o(t,"defaultWrap"),o(t,"wrapMap"),o(t,"rhtml"),o(t,"rtagName"),o(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");let r=[1,"<table>","</table>"],l=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=l,t.defaultWrap=[0,"",""]})(),t}),Dn=W(e=>{var t;return t=class{},Dn=e(t),o(t,"UseAnimations"),o(t,"CubicInOut"),t.CubicInOut=Hi.Custom(r=>{let l=r*r;return 3*l-2*(l*r)}),t.UseAnimations=!0,t});function Gn(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function In(e){let t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){let l=r.$1,i=r.$0;n(i),r=l}else return r.$==3?K(l=>{t.push(l)},r.$0):null}}return n(e),t.slice(0)}function Ui(e){let t=oe(e);return se(Ln(),Gn,t)}function Ln(){return Rn.Empty}var qi=class extends _{constructor(t,n){super();o(this,"push");o(this,"value");o(this,"dirty");o(this,"updates");this.push=n,this.value=void 0,this.dirty=!1,this.updates=I(r=>{this.value=r,this.dirty=!0},t)}get NChanged(){return this.updates}NGetExitAnim(t){return Ne()}NGetEnterAnim(t){return Ne()}NGetChangeAnim(t){return Ne()}NSync(t){this.dirty&&(this.push(t)(this.value),this.dirty=!1)}},_i=class extends Error{constructor(e,t){if(e=="New"&&(e="New_1",t="The given key was not present in the dictionary."),e=="New_1"){let n=t;super(n)}}},T=W(e=>{var t;return t=class{},T=e(t),o(t,"FloatApplyChecked"),o(t,"FloatGetChecked"),o(t,"FloatSetChecked"),o(t,"FloatApplyUnchecked"),o(t,"FloatGetUnchecked"),o(t,"FloatSetUnchecked"),o(t,"IntApplyChecked"),o(t,"IntGetChecked"),o(t,"IntSetChecked"),o(t,"IntApplyUnchecked"),o(t,"IntGetUnchecked"),o(t,"IntSetUnchecked"),o(t,"FileApplyUnchecked"),o(t,"FileGetUnchecked"),o(t,"FileSetUnchecked"),o(t,"DateTimeApplyUnchecked"),o(t,"DateTimeGetUnchecked"),o(t,"DateTimeSetUnchecked"),o(t,"StringListApply"),o(t,"StringListGet"),o(t,"StringListSet"),o(t,"StringApply"),o(t,"StringGet"),o(t,"StringSet"),o(t,"BoolCheckedApply"),o(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=a=>[f=>{f.addEventListener("change",()=>a.Get()!=f.checked?a.Set(f.checked):null)},f=>h=>h!=null&&h.$==1?void(f.checked=h.$0):null,I(f=>w(f),a.View)],t.StringSet=a=>f=>{a.value=f},t.StringGet=a=>w(a.value);let r=Qi(),l=Zi();t.StringApply=a=>ht(r,l,a),t.StringListSet=a=>f=>{let h=a.options;for(let g=0,C=h.length-1;g<=C;g++)(()=>{let V=h.item(g);V.selected=jl(V.value,f)})()},t.StringListGet=a=>{let f=a.selectedOptions;return w(It(ze(()=>vr(h=>[f.item(h).value],Re(0,f.length-1)))))};let i=tu(),u=Yi();t.StringListApply=a=>ht(i,u,a),t.DateTimeSetUnchecked=a=>f=>{a.value=new Date(f).toLocaleString()},t.DateTimeGetUnchecked=a=>{let f,h,g=a.value;if(Pt(g))return w(-864e13);{f=0;let C=Tu(g);return h=[C!=null&&C.$==1&&(f=C.$0,!0),f],h[0]?w(h[1]):null}};let s=nu(),c=eu();t.DateTimeApplyUnchecked=a=>ht(s,c,a),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=a=>{let f=a.files;return w(It(ze(()=>ct(h=>f.item(h),Re(0,f.length-1)))))};let m=iu(),$=lu();t.FileApplyUnchecked=a=>ru(m,$,a),t.IntSetUnchecked=a=>f=>{a.value=String(f)},t.IntGetUnchecked=a=>{let f=a.value;if(Pt(f))return w(0);{let h=+f;return h!==h>>0?null:w(h)}};let b=su(),p=uu();t.IntApplyUnchecked=a=>ht(b,p,a),t.IntSetChecked=a=>f=>{let h=f.Input;return a.value!=h?void(a.value=h):null},t.IntGetChecked=a=>{let f,h,g=a.value;if(Pt(g))f=!a.checkValidity||a.checkValidity()?ot.Blank(g):ot.Invalid(g);else{let C=(h=0,[Pr(g,{get:()=>h,set:V=>{h=V}}),h]);f=C[0]?ot.Valid(C[1],g):ot.Invalid(g)}return w(f)};let y=au(),G=ou();t.IntApplyChecked=a=>ht(y,G,a),t.FloatSetUnchecked=a=>f=>{a.value=String(f)},t.FloatGetUnchecked=a=>{let f=a.value;if(Pt(f))return w(0);{let h=+f;return isNaN(h)?null:w(h)}};let U=fu(),q=cu();t.FloatApplyUnchecked=a=>ht(U,q,a),t.FloatSetChecked=a=>f=>{let h=f.Input;return a.value!=h?void(a.value=h):null},t.FloatGetChecked=a=>{let f,h=a.value;if(Pt(h))f=!a.checkValidity||a.checkValidity()?ot.Blank(h):ot.Invalid(h);else{let g=+h;f=isNaN(g)?ot.Invalid(h):ot.Valid(g,h)}return w(f)};let v=du(),d=hu();t.FloatApplyChecked=a=>ht(v,d,a)})(),t}),ji=class extends _{constructor(){super();o(this,"idle");o(this,"robin");this.idle=!0,this.robin=[]}Fork(t){this.robin.push(t),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){let t=Date.now(),n=!0;for(;n;)this.robin.length===0?(this.idle=!0,n=!1):(this.robin.shift()(),Date.now()-t>40&&(setTimeout(()=>{this.tick()},0),n=!1))}},Hi=class Pn extends _{constructor(n){super();o(this,"transformTime");this.transformTime=n}static Custom(n){return new Pn(n)}};function Fn(e,t){return{k:e,ct:t}}function Ie(e){return{$:1,$0:e}}function Le(e){return{$:0,$0:e}}function Mn(e){return{$:2,$0:e}}var ce=W(e=>{var t;return t=class{},ce=e(t),o(t,"GetCT"),o(t,"Zero"),o(t,"defCTS"),o(t,"scheduler"),o(t,"noneCT"),t.noneCT=Pi(!1,[]),t.scheduler=new ji,t.defCTS=[new bu],t.Zero=ae(),t.GetCT=r=>{r.k(Le(r.ct))},t});function Pi(e,t){return{c:e,r:t}}function Bi(e,t){return new tt("New_2",Gt(e,At(t)))}function Ki(e,t){let n=new tt("New_2",At(t));return n.ExceptWith(At(e)),n}function At(e){let t=Fr(e.Count,void 0);return e.CopyTo(t,0),t}function zi(e,t){let n=new tt("New_2",At(e));return n.IntersectWith(At(t)),n}function Ji(e){return e.$==1?e.$0:Wn()}function Xi(e){return e.$==1?e.$1:Wn()}function Wn(){return j("The input list was empty.")}function ht(e,t,n){let r;return r=null,[l=>{let i=()=>{n.UpdateMaybe(u=>{let s;return r=e(l),r!=null&&r.$==1&&!N(r.$0,u)&&(s=[r,r.$0],!0)?s[0]:null})};l.addEventListener("change",i),l.addEventListener("input",i),l.addEventListener("keypress",i)},l=>{let i=t(l);return u=>u==null?null:i(u.$0)},I(l=>r!=null&&r.$==1&&N(r.$0,l)&&(r.$0,!0)?null:w(l),n.View)]}function Zi(){return T.StringSet}function Qi(){return T.StringGet}function Yi(){return T.StringListSet}function tu(){return T.StringListGet}function eu(){return T.DateTimeSetUnchecked}function nu(){return T.DateTimeGetUnchecked}function ru(e,t,n){let r;return r=null,[l=>{l.addEventListener("change",()=>{n.UpdateMaybe(i=>{let u;return r=e(l),r!=null&&r.$==1&&r.$0!==i&&(u=[r,r.$0],!0)?u[0]:null})})},l=>{let i=t(l);return u=>u==null?null:i(u.$0)},I(l=>r!=null&&r.$==1&&N(r.$0,l)&&(r.$0,!0)?null:w(l),n.View)]}function lu(){return T.FileSetUnchecked}function iu(){return T.FileGetUnchecked}function uu(){return T.IntSetUnchecked}function su(){return T.IntGetUnchecked}function ou(){return T.IntSetChecked}function au(){return T.IntGetChecked}function cu(){return T.FloatSetUnchecked}function fu(){return T.FloatGetUnchecked}function hu(){return T.FloatSetChecked}function du(){return T.FloatGetChecked}function mu(){return T.StringApply}function pu(){return T.FloatApplyUnchecked}function $u(){return T.BoolCheckedApply}function wu(){return T.DateTimeApplyUnchecked}function gu(){return T.FileApplyUnchecked}function yu(){return T.StringListApply}function Pt(e){return bi(Au,e)}var ot=class pe{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return L(pe,{$:2,$0:t})}static Invalid(t){return L(pe,{$:1,$0:t})}static Valid(t,n){return L(pe,{$:0,$0:t,$1:n})}},bu=class extends _{constructor(){super();o(this,"init");o(this,"c");o(this,"pending");o(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}};function Nu(e,t){let n;if(t!=null&&t.$==1){let r=t.$0[1],l=t.$0[0],i=[];for(n=l.nextSibling;n!==r;)i.push(n),n=n.nextSibling;return fe(i)}else{let r=e.childNodes.length,l=e.childNodes,i=Mr(r,u=>l[u]);return fe(i)}}function Cu(e,t){let n=e.$0;return fe(Gt(r=>Ye(l=>r!==l,n),t.$0))}function xu(e,t){K(e,t.$0)}function vu(e){let t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){let l=r.$0.Els;return(i=>u=>{K(i,u)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(l)}else{let l=r.$1,i=r.$0;n(i),r=l}}}return n(e.Children),fe(oe(t))}function fe(e){return{$:0,$0:e}}function Au(e){return e.match(new RegExp("\\s"))!==null}function Tu(e){let t=Date.parse(e);return isNaN(t)?null:w(t)}function Eu(e,t,n,r){let l=+e,i=l===l-l%1&&l>=t&&l<=n;return i&&r.set(l),i}var Su=class extends Error{constructor(t,n,r,l){var e=(...Uu)=>(super(...Uu),o(this,"ct"),this);let i;if(t=="New"&&(i=n,t="New_1",n="The operation was canceled.",r=null,l=i),t=="New_1"){let u=n,s=r,c=l;e(u),this.inner=s,this.ct=c}}};function ku(e){return Iu(!1,e,Vu)}function Vu(){let e=this.v();return this.c=!0,this.v=e,this.f=Du,e}function Du(){return this.v}var Rn=W(e=>{var t;return t=class{},Rn=e(t),o(t,"Empty"),t.Empty={$:0},t});function Gu(e){e.splice(0,E(e))}function Iu(e,t,n){return{c:e,v:t,f:n}}Kn(()=>{Jn()}),zn()})();
